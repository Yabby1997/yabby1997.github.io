---
layout: post
title: "ğŸ“š í˜¼ìí•˜ëŠ” C++ ê³µë¶€ -3- "
description: "2019ë…„ ì—¬ë¦„ë°©í•™, í˜¼ìí–ˆë˜ C++ê³µë¶€ë¥¼ ì •ë¦¬í•´ë³´ì."
date: 2020-01-04
feature_image: images/thumbnail_cpp.png
tags: [CNU, C++]
---
# ğŸ‘€ C++
[ìœ„í‚¤ë…ìŠ¤](https://wikidocs.net/book/1413)ë¥¼ ì£¼ë¡œ ì°¸ì¡°í•˜ì—¬ ê³µë¶€í–ˆë‹¤.  
ì´ì „ ê¸€ [ğŸ“š í˜¼ìí•˜ëŠ” C++ ê³µë¶€ -2-](https://yabby1997.github.io/cpp_2) ë³´ëŸ¬ê°€ê¸°

## Shallow copy
```cpp
#include<iostream>
#include<cstring>

using std::cout;
using std::endl;

class student{
private :
    char* name;
    int age;
public :
    student(){
        name = "";
        age = 19;
    }
    
    student(char* newName, int newAge){
        int len = strlen(newName) + 1;
        name = new char[len];
        strcpy(name, newName);
        age = newAge;
    }
    /*
    student(const student& copy){
        int len = strlen(copy.name) + 1;
        name = new char[len];
        strcpy(name, copy.name);
        age = copy.age;
    }
    */
    void changeName(char* newName){
        delete [] name;
        int len = strlen(newName) + 1;
        name = new char[len];
        strcpy(name, newName);
    }
    
    void showInfo(){
        cout << "NAME : " << name << endl;
        cout << "AGE : " << age << endl;
    }
    
    ~student(){
        delete [] name;
        cout << "DESTRUCTOR CALLED" << endl;
    }
};

int main(void){
    student a("apple", 23);
    student b(a);
    a.showInfo();
    b.showInfo();
    a.changeName("lemon");
    a.showInfo();
    b.showInfo();
    return 0;
}
```
>NAME : apple  
>AGE : 23  
>NAME : apple  
>AGE : 23  
>NAME : lemon  
>AGE : 23  
>NAME : lemon  
>AGE : 23  
>DESTRUCTOR CALLED  
>*** Error in `./a.out': double free or corruption (fasttop): 0x0000000001d8ec20 ***  
Aborted (core dumped)  

ë³µì‚¬ìƒì„±ìë¥¼ ì •ì˜í•´ì£¼ì§€ ì•Šê³  ë³µì‚¬ìƒì„±ì„í•˜ë©´ í¬ì¸í„°ë³€ìˆ˜ì˜ ê²½ìš° ì£¼ì†Œë§Œ ë³µì‚¬ë˜ë¯€ë¡œ ë³µì‚¬ìƒì„±ëœ ê°ì²´ì™€ ì›ë˜ì˜ ê°ì²´ê°€ ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê°€ë¦¬í‚¤ëŠ” ***ì–•ì€ë³µì‚¬***ê°€ ì´ë¤„ì§„ë‹¤. ìœ„ì˜ ì½”ë“œì—ì„œ ë³µì‚¬ìƒì„±ìë¥¼ ë”°ë¡œ ì •ì˜ í•´ì£¼ì§€ ì•Šì•˜ê³  `name`ë³€ìˆ˜ê°€ í¬ì¸í„°ë³€ìˆ˜ì´ë¯€ë¡œ ê°ì²´ `a`ì™€ `b`ì˜ `name`ì´ ê°™ì€ ê³µê°„ì„ ê°€ë¦¬í‚¤ê²Œ ëê³ , `a`ê°€ ì†Œë©¸ë˜ë©° `b`ì˜ `name`ë„ í•¨ê»˜ ì†Œë©¸ë˜ì–´ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì´ë‹¤.

## Deep copy
```cpp
#include<iostream>
#include<cstring>

using std::cout;
using std::endl;

class student{
private :
    char* name;
    int age;
public :
    student(){
        name = "";
        age = 19;
    }
    
    student(char* newName, int newAge){
        int len = strlen(newName) + 1;
        name = new char[len];
        strcpy(name, newName);
        age = newAge;
    }
    
    student(const student& copy){
        int len = strlen(copy.name) + 1;
        name = new char[len];
        strcpy(name, copy.name);
        age = copy.age;
    }
    
    void changeName(char* newName){
        delete [] name;
        int len = strlen(newName) + 1;
        name = new char[len];
        strcpy(name, newName);
    }
    
    void showInfo(){
        cout << "NAME : " << name << endl;
        cout << "AGE : " << age << endl;
    }
    
    ~student(){
        delete [] name;
        cout << "DESTRUCTOR CALLED" << endl;
    }
};

int main(void){
    student a("apple", 23);
    student b(a);
    a.showInfo();
    b.showInfo();
    a.changeName("lemon");
    a.showInfo();
    b.showInfo();
    return 0;
}
```
>NAME : apple  
>AGE : 23  
>NAME : apple  
>AGE : 23  
>NAME : lemon  
>AGE : 23  
>NAME : apple  
>AGE : 23  
>DESTRUCTOR CALLED  
>DESTRUCTOR CALLED  

ì–•ì€ë³µì‚¬ì˜ ì˜ˆì œì— ë³µì‚¬ìƒì„±ìë¥¼ ì¶”ê°€ë¡œ êµ¬í˜„í•˜ì—¬ ê°’ì„ ë³µì‚¬í•˜ë„ë¡ í•´ì£¼ì—ˆë‹¤. ë³µì‚¬ìƒì„±ìì—ì„œ `name`ì— ëŒ€í•´ ìƒˆë¡œìš´ ê³µê°„ì„ ë§Œë“¤ì–´ ê°’ì„ ë„£ì–´ì£¼ë„ë¡ í–ˆê¸° ë•Œë¬¸ì— ì–•ì€ë³µì‚¬ì²˜ëŸ¼ ê°™ì€ ë©”ëª¨ë¦¬ê³µê°„ì„ ê°€ë¦¬í‚¤ì§€ ì•Šê²Œë˜ê³ , `a`ê°€ ì†Œë©¸ë˜ì–´ë„ `b`ì—ëŠ” ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤. 

## Object as function parameter
```cpp
#include<iostream>

using std::cout;
using std::endl;

class data{
private :
    int value;
public :
    data(int newValue){
        value = newValue;
    }
    
    ~data(){
        cout << "DESTRUCTOR CALLED" << endl;    
    }
    
    void showData(){
        cout << "VALUE : " << this->value << endl;
    }
};

void showData_Parameter(data dt){
    cout << "SHOW DATA OF PARAMETER" << endl;
    dt.showData();
}

int main(void){
    data a(3);
    a.showData();
    showData_Parameter(a);
    return 0;
}
```
>VALUE : 3  
>SHOW DATA OF PARAMETER  
>VALUE : 3  
>DESTRUCTOR CALLED  
>DESTRUCTOR CALLED  

í•¨ìˆ˜ì˜ ì¸ìë¡œ ê°ì²´ë¥¼ ì „ë‹¬í•˜ê²Œë˜ë©´ ê°ì²´ê°€ ë³µì‚¬ë˜ì–´ ì „ë‹¬ë˜ê³ , í•¨ìˆ˜ê°€ ì‹¤í–‰ëœ ë’¤ ì†Œë©¸ìê°€ ì‹¤í–‰ëœë‹¤. ì „ì—­í•¨ìˆ˜ `showData`ëŠ” ì¸ìë¡œ `data`ê°ì²´ë¥¼ ë°›ì•„ `data`ì˜ `showData`ë¥¼ í˜¸ì¶œí•˜ê³  ì¢…ë£Œëœë‹¤. `main`ì—ì„œ ì „ì—­í•¨ìˆ˜ `showData`ë¥¼ í˜¸ì¶œí–ˆìœ¼ë¯€ë¡œ ê°ì²´ `a`ê°€ ë³µì‚¬ë˜ì–´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  ì†Œë©¸ì´ ì¼ì–´ë‚œë‹¤. `main`ì´ ì¢…ë£Œë  ë•Œ ì›ë˜ì˜ `a`ë„ ì†Œë©¸ë˜ë¯€ë¡œ ì†Œë©¸ìê°€ ì´ 2ë²ˆ í˜¸ì¶œë˜ëŠ” ê²ƒì´ë‹¤. 

## Const object
```cpp
#include<iostream>

using std::cout;
using std::endl;

class data{
private : 
    int value;
public :
    data(int newValue){
        value = newValue;
    }
    
    void add(int operand){
        value = value + operand;
    }
    
    void showInfo() const{
        cout << value << endl;
    }
};

int main(void){
    data a(3);
    const data b(3);
    a.showInfo();
    b.showInfo();
    a.add(3);
    //b.add(3).
    a.showInfo();
    b.showInfo();
    return 0;
}
```
>3                                                                                                                                                                                                
3                                                                                                                                                                                                
6                                                                                                                                                                                                
3 

`const`ê°ì²´ëŠ” `const`í•¨ìˆ˜ë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. `const`ë¡œ ìƒì„±ëœ ê°ì²´ëŠ” ë©¤ë²„ë³€ìˆ˜ì˜ ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ë‹¤. 

## Friend class
```cpp
#include<iostream>

using std::cout;
using std::endl;

class one;
class two;

class one{
friend class two;
private : 
    int value;
public :
    one(){
        value = 1;
    }
    void friendInfo(two& tw);
    void showInfo(){
        cout << this->value << endl;
    }
};

class two{
private :
    int value;
public :
    two(){
        value = 2;
    }
    void friendInfo(one& on);
    void showInfo(){
        cout << this->value << endl;
    }
friend class one;
};

void one::friendInfo(two& tw){
    cout << tw.value << endl;
}
void two::friendInfo(one& on){
    cout << on.value << endl;
}

int main(void){
    one a;
    two b;
    a.showInfo();
    b.showInfo();
    a.friendInfo(b);
    b.friendInfo(a);
    return 0;
}
```
>1                                                                                                                                                                                                
2                                                                                                                                                                                                
2                                                                                                                                                                                                
1

`friend class`ë¥¼ í†µí•´ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ì–´ë””ì—ì„œë‚˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì¹œêµ¬ í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•´ì¤„ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ì¹œêµ¬ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•´ì£¼ë©´ ***í•´ë‹¹ í´ë˜ìŠ¤ì˜ `private`ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œëœë‹¤..!***

## Friend method
```cpp
#include<iostream>
#include<cstring>

using std::cout;
using std::endl;

class kitty{
private :
    char * name;
    int age;
public :
    kitty(char* newName, int newAge){
        int len = strlen(newName) + 1;
        name = new char[len];
        strcpy(name, newName);
        age = newAge;
    }
    
    friend void showInfo(kitty& cat);
};

void showInfo(kitty& cat){
    cout << cat.name << endl;
    cout << cat.age << endl;
}

int main(void){
    kitty a("Kiki", 2);
    showInfo(a);
    return 0;
}
```
>Kiki                                                                                                                                                                                             
2

í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ê°ì²´ì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì¸ìë¡œ ë°›ëŠ” í•¨ìˆ˜ë¡œ ì„ ì–¸í•´ì£¼ê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `friend`ë¡œ ì„ ì–¸í•´ì£¼ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## Static variable
```cpp
#include<iostream>

using std::cout;
using std::endl;

void staticCounter(){
    static int count;
    cout << count++ <<endl;
}

void nonStaticCounter(){
    int count;
    cout << count++ <<endl;
}

int main(void){
    for(int i = 0; i < 5; i++){
        staticCounter();
        nonStaticCounter();
    }
    return 0;
}
```
>0
0
1
0
2
0
3
0
4
0

ë³€ìˆ˜ì— `static`ì´ ë¶™ìœ¼ë©´ ì •ì  ë³€ìˆ˜ë¡œ, `main`ì´ ì¢…ë£Œë  ë•Œ í•¨ê»˜ ì†Œë©¸ëœë‹¤. í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ê±°ë‚˜ ê°ì²´ê°€ ì†Œë©¸ë˜ì–´ë„ ì†Œë©¸ë˜ì§€ ì•ŠëŠ”ë‹¤.

## Static object
```cpp
#include<iostream>

using std::cout;
using std::endl;

class test{
public :
    test(){
        cout << this << " CREATED" <<endl;
    }
    ~test(){
        cout << this << " DESTROYED" <<endl;
    }
};

void createObject(){
    static test testObject;
}

int main(void){
    int x = 0;
    if(x == 0){
        test a;
        createObject();
    }    
    return 0;
}
```
>0x7ffc3f417d1b CREATED                                                                                                                                                                           
0x6021b9 CREATED                                                                                                                                                                                 
0x7ffc3f417d1b DESTROYED                                                                                                                                                                         
0x6021b9 DESTROYED

ê°ì²´ì— `static`ì´ ë¶™ìœ¼ë©´ ì •ì  ê°ì²´ë¡œ, ì •ì ë³€ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `main`ì´ ì¢…ë£Œë  ë•Œ ì†Œë©¸ëœë‹¤.

## Static member variable
```cpp
#include<iostream>

using std::cout;
using std::endl;

class test{
public :
    static int id;
    test(){
        cout<<this<<" CREATED"<<endl;
    }
    void showInfo(){
        cout<<this<<" "<<this->id<<endl;
    }
};

int test::id = 999;

int main(void){
    test a;
    test b;
    test c;
    a.showInfo();
    b.showInfo();
    c.showInfo();
    return 0;
}
```
>0x7ffd0bfdf4ed CREATED                                                                                                                                                                           
0x7ffd0bfdf4ee CREATED                                                                                                                                                                           
0x7ffd0bfdf4ef CREATED                                                                                                                                                                           
0x7ffd0bfdf4ed 999                                                                                                                                                                               
0x7ffd0bfdf4ee 999                                                                                                                                                                               
0x7ffd0bfdf4ef 999 

ë©¤ë²„ë³€ìˆ˜ì—ë„ `static`ì„ ë¶™ì—¬ ì •ì  ë©¤ë²„ë³€ìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì •ì  ë©¤ë²„ë³€ìˆ˜ë¡œ ì„ ì–¸ë˜ë©´ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ëª¨ë“  ê°ì²´ë“¤ì´ ëª¨ë‘ ë™ì¼í•œ ê°’ì„ ê°–ëŠ”ë‹¤. ì •ì  ë©¤ë²„ë³€ìˆ˜ì˜ ì´ˆê¸°í™”ëŠ” í´ë˜ìŠ¤ì˜ ì™¸ë¶€ì—ì„œ ì´ë¤„ì ¸ì•¼í•˜ë©° ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ìƒì„±ìëŠ” ì´ë¥¼ ë¬´ì‹œí•´ë„ ëœë‹¤.

## Static method
```cpp
#include<iostream>

using std::cout;
using std::endl;

class test{
public :
    static int id;
    static void idAdder(){
        id++;   
    }
    test(){
        cout<<this<<" CREATED"<<endl;
    }
    void showInfo(){
        cout<<this<<" "<<this->id<<endl;
    }
};

int test::id = 999;

int main(void){
    test a;
    test b;
    test c;
    a.showInfo();
    b.showInfo();
    c.showInfo();
    test::idAdder();
    a.showInfo();
    b.showInfo();
    c.showInfo();
    return 0;
}
```
>0x7ffcd656dccd CREATED                                                                                                                                                                           
0x7ffcd656dcce CREATED                                                                                                                                                                           
0x7ffcd656dccf CREATED                                                                                                                                                                           
0x7ffcd656dccd 999                                                                                                                                                                               
0x7ffcd656dcce 999                                                                                                                                                                               
0x7ffcd656dccf 999                                                                                                                                                                               
0x7ffcd656dccd 1000                                                                                                                                                                              
0x7ffcd656dcce 1000                                                                                                                                                                              
0x7ffcd656dccf 1000

ë³€ìˆ˜ ë˜í•œ `static`ì´ ë¶™ìœ¼ë©´ ì •ì ë©”ì†Œë“œê°€ ëœë‹¤. ì •ì  ë©”ì†Œë“œëŠ”  ***ë‹¤ë¥¸ ì •ì  ë©¤ë²„ ë³€ìˆ˜ í˜¹ì€ ì •ì  ë©”ì†Œë“œì—ë§Œ ì ‘ê·¼***í•  ìˆ˜ ìˆë‹¤. ì •ì ë³€ìˆ˜ì™€ ë©”ì†Œë“œëŠ” ê°ì²´ì™€ëŠ” ë¬´ê´€í•˜ê²Œ ë™ì‘í•˜ë¯€ë¡œ `this`ëŠ” ì‚¬ìš© ëª»í•˜ê³ ,  `::`ì„ í†µí•´ ì ‘ê·¼í•œë‹¤. 
